ScreenManager:
    Screen:
        name: 'main_menu'
        BoxLayout:
            orientation: 'vertical'
            BoxLayout:
                size_hint_max_y: 80
                TestLabel:
                    text: 'Main Menu'
                    font_size: '25sp'
            BoxLayout:
                orientation: 'horizontal'
                BoxLayout:
                    size_hint_max_x: 40
                BoxLayout:
                    orientation: 'vertical'
                    BoxLayout:
                        size_hint_max_y: 10
                    Button:
                        text: 'Create Airport'
                        font_size: '20sp'
                        on_press: root.current = 'create_airport'
                    BoxLayout:
                        size_hint_max_y: 10
                    Button:
                        text: 'Create City'
                        font_size: '20sp'
                        on_press: root.current = 'create_city'
                    BoxLayout:
                        size_hint_max_y: 10
                    Button:
                        text: 'Check Forecast'
                        font_size: '20sp'
                        on_press: root.current = 'check_forecast'
                    BoxLayout:
                        size_hint_max_y: 20
                    BoxLayout:
                        size_hint_max_y: 60
                        orientation: 'horizontal'
                        BoxLayout:
                            size_hint_min_x: 600
                        Button:
                            text: 'Quit'
                            on_press: app.stop()
                    BoxLayout:
                        size_hint_max_y: 20
                BoxLayout:
                    size_hint_max_x: 40
    Screen:
        name: 'create_airport'
        on_leave: root.ids.create_airport_error.text = ''
        BoxLayout:
            orientation: 'vertical'
            BoxLayout:
                orientation: 'horizontal'
                size_hint_max_y: 80
                TestLabel:
                    text: 'Create Airport'
                    font_size: '25sp'
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    orientation: 'horizontal'
                    BoxLayout:
                        size_hint_max_x: 20
                    BoxLayout:
                        orientation: 'vertical'
                        BoxLayout:
                            size_hint_max_y: 10
                        BoxLayout:
                            size_hint_max_y: 45
                            orientation: 'horizontal'
                            Label:
                                text: 'Name'
                            TextInput:
                                id: airport_name
                                multiline: False
                        BoxLayout:
                            size_hint_max_y: 10
                        BoxLayout:
                            size_hint_max_y: 45
                            orientation: 'horizontal'
                            Label:
                                text: 'ICAO Code'
                                foreground_color: 'red'
                            TextInput:
                                id: airport_code
                                multiline: False
                        BoxLayout:
                            size_hint_max_y: 10
                        BoxLayout:
                            size_hint_max_y: 45
                            orientation: 'horizontal'
                            Label:
                                text: 'Latitude'
                            TextInput:
                                id: airport_latitude
                                multiline: False
                        BoxLayout:
                            size_hint_max_y: 45
                            orientation: 'horizontal'
                            Label:
                                text: 'Longitude'
                            TextInput:
                                id: airport_longitude
                                multiline: False
                        BoxLayout:
                            size_hint_max_y: 40
                    BoxLayout:
                        size_hint_max_x: 20
                    BoxLayout:
                        orientation: 'vertical'
                        size_hint_max_x: 80
                        Button:
                            text: 'Discard\nChanges'
                            on_press:
                                root.ids.airport_name.text = ''
                                root.ids.airport_code.text = ''
                                root.ids.airport_location.text = ''
                BoxLayout:
                    Label:
                        text: ''
                        id: create_airport_error
                    BoxLayout:
                        size_hint_max_x: 20
                BoxLayout:
                    orientation: 'horizontal'
                    Button:
                        text: 'BACK'
                        size_hint: (0.30, 0.30)
                        pos_hint: {'x':.25, 'y':0}
                        on_press:
                            root.current = 'main_menu'
                            root.ids.city_name.text = ''
                            root.ids.city_geo.text = ''
                            root.ids.city_latitude.text = ''
                            root.ids.city_longitude.text = ''
                    Button:
                        text: 'CREATE AIRPORT'
                        size_hint: (0.30, 0.30)
                        pos_hint: {'x':.25, 'y':0}
                        on_press:
                            app.submit_data_airport(root.ids.airport_name.text, root.ids.airport_code.text, root.ids.airport_latitude.text, root.ids.airport_longitude.text)
                            root.current = 'success_airport'
                            root.ids.airport_name.text = ''
                            root.ids.airport_code.text = ''
                            root.ids.airport_latitude.text = ''
                            root.ids.airport_longitude.text = ''
    Screen:
        name: 'create_city'
        on_leave: root.ids.create_city_error.text = ''
        BoxLayout:
            orientation: 'vertical'
            BoxLayout:
                orientation: 'horizontal'
                size_hint_max_y: 80
                TestLabel:
                    text: 'Create City'
                    font_size: '25sp'
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    orientation: 'horizontal'
                    BoxLayout:
                        size_hint_max_x: 20
                    BoxLayout:
                        orientation: 'vertical'
                        BoxLayout:
                            size_hint_max_y: 10
                        BoxLayout:
                            size_hint_max_y: 45
                            orientation: 'horizontal'
                            Label:
                                text: 'Name'
                            TextInput:
                                id: city_name
                                multiline: False
                        BoxLayout:
                            size_hint_max_y: 10
                        BoxLayout:
                            size_hint_max_y: 45
                            orientation: 'horizontal'
                            Label:
                                text: 'Geographic Entity'
                            TextInput:
                                id: city_geo
                                multiline: False
                        BoxLayout:
                            size_hint_max_y: 10
                        BoxLayout:
                            size_hint_max_y: 45
                            orientation: 'horizontal'
                            Label:
                                text: 'Latitude'
                            TextInput:
                                id: city_latitude
                                multiline: False
                        BoxLayout:
                            size_hint_max_y: 45
                            orientation: 'horizontal'
                            Label:
                                text: 'Longitude'
                            TextInput:
                                id: city_longitude
                                multiline: False
                    BoxLayout:
                        size_hint_max_x: 20
                    BoxLayout:
                        size_hint_max_x: 80
                        Button:
                            size_hint_max_y: 80
                            text: 'Discard\nChanges'
                            on_press:
                                root.ids.city_name.text = ''
                                root.ids.city_geo.text = ''
                                root.ids.city_latitude.text = ''
                                root.ids.city_longitude.text = ''
                BoxLayout:
                    Label:
                        text: ''
                        id: create_city_error
                    BoxLayout:
                        size_hint_max_x: 20
                BoxLayout:
                    orientation: 'horizontal'
                    Button:
                        text: 'BACK'
                        size_hint: (0.30, 0.30)
                        pos_hint: {'x':.25, 'y':0}
                        on_press:
                            root.current = 'main_menu'
                            root.ids.city_name.text = ''
                            root.ids.city_geo.text = ''
                            root.ids.city_latitude.text = ''
                            root.ids.city_longitude.text = ''
                    Button:
                        text: 'CREATE CITY'
                        size_hint: (0.30, 0.30)
                        pos_hint: {'x':.25, 'y':0}
                        on_press:
                            app.submit_data_city(root.ids.city_name.text, root.ids.city_geo.text, root.ids.city_latitude.text, root.ids.city_longitude.text)
                            root.ids.success_city_name.text = root.ids.city_name.text
                            root.ids.city_name.text = ''
                            root.ids.city_geo.text = ''
                            root.ids.city_latitude.text = ''
                            root.ids.city_longitude.text = ''
    Screen:
        name: 'success_airport'
        on_enter: app.add_buttons()
        on_leave:
            app.delete_buttons()
            root.ids.select_city_error.text = ''
        BoxLayout:
            orientation: 'vertical'
            TestLabel:
                text: 'Success!'
                font_size: 20
                size_hint_max_y: 60
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    size_hint_max_y: 30
                    orientation: 'horizontal'
                    BoxLayout:
                    Button:
                        text: 'X'
                        size_hint_max_x: 40
                        on_press: root.current = 'main_menu'
                Label:
                    text: 'Your airport has successfully been added to our database. \nClick the \'X\' at any time to return to the main menu'
                    font_size: '20sp'
            BoxLayout:
                Label:
                    id: select_city_error
                    text: ''
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_max_y: 80
                    Label:
                        text: 'Please select Cities to be serviced by'
                    Label:
                        id: success_airport_name
                        text:''
                ScrollView:
                    do_scroll_x: False
                    do_scroll_y: True
                    BoxLayout:
                        orientation: 'vertical'
                        id: scroll_box_1
            BoxLayout:
                orientation: 'horizontal'
                size_hint_max_y: 60
                BoxLayout:
                Button:
                    text: 'Create New City'
                    on_press: root.current = 'create_city'
                BoxLayout:
    Screen:
        name: 'check_forecast'
        on_enter: app.add_airports_spinner()
        on_leave: root.ids.check_forecast_error.text = ''
        BoxLayout:
            orientation: 'vertical'
            BoxLayout:
                orientation: 'horizontal'
                size_hint_max_y: 80
                TestLabel:
                    text: 'Check Forecast'
                    font_size: '25sp'
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_max_y: 45
                    Label:
                        text: 'Day/Month/Year'
                    TextInput:
                        id: forecast_date
                        multiline: False
                BoxLayout:
                    size_hint_max_y: 60
            BoxLayout:
                Spinner:
                    id: forecast_spinner
                    text: 'Select Airport'
                    values:()
            BoxLayout:
                size_hint_max_x: 40
            Label:
                id: check_forecast_error
                text: 'Insert Error Message'
            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text: 'BACK'
                    size_hint: (0.5, 0.5)
                    on_press:
                        root.current = 'main_menu'
                        root.ids.forecast_date.text = ''
                Button:
                    text: 'CHECK FORECAST'
                    size_hint: (0.5, 0.5)
                    on_press:
                        root.current = 'create_forecast'
    Screen:
        name: 'create_forecast'
        on_enter: app.add_forecast(root.ids.forecast_spinner.text, root.ids.forecast_date.text)
        BoxLayout:
            orientation: 'vertical'
            BoxLayout:
                size_hint_max_y: 80
                TestLabel:
                    text: 'Forecast on (Insert Date Variable)'
                    font_size: '25sp'
                Button:
                    text: 'Return'
                    on_press:
                        root.current = 'check_forecast'
                        root.ids.forecast_date.text = ''
                        root.ids.forecast.text = ''
                    size_hint_max_x: 100
            Label:
                id: forecast
                font_size: '28sp'
                text: ''
    Screen:
        name: 'success_city'
        on_enter: app.add_buttons()
            root.ids.select_airport_error.text = ''
        BoxLayout:
            orientation: 'vertical'
            TestLabel:
                text: 'Success!'
                font_size: 25
                size_hint_max_y: 60
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    size_hint_max_y: 30
                    orientation: 'horizontal'
                    BoxLayout:
                    Button:
                        text: 'X'
                        size_hint_max_x: 40
                        on_press: root.current = 'main_menu'
                Label:
                    text: 'Your city has successfully been added to our database. \nClick the \'X\' at any time to return to the main menu'
                    font_size: '20sp'
            BoxLayout:
                Label:
                    id: select_airport_error
                    text: ''
            BoxLayout:
                orientation: 'vertical'
                BoxLayout
                    size_hint_max_y: 80
                    Label:
                        text: 'Please select Airports to service'
                    Label:
                        id: success_city_name
                        text: ''
                ScrollView:
                    do_scroll_x: False
                    do_scroll_y: True
                    BoxLayout:
                        orientation: 'vertical'
                        id: scroll_box_2
            BoxLayout:
                orientation: 'horizontal'
                size_hint_max_y: 60
                BoxLayout:
                Button:
                    text: 'Create New Airport'
                    on_press: root.current = 'create_airport'
                BoxLayout:

<Screen>:
    canvas.before:
        Color:
            rgba: (1.0, 1.0, 1.0, 1.0)
        Rectangle:
            pos: self.pos
            size: self.size

<Label>:
    color: (0.0, 0.0, 0.75, 1.0)
    halign: 'center'

<Button>:
    color: (1, 1, 1, 1)
    halign: 'center'

<TextInput>:
    multiline: False
    write_tab: False

<TestLabel@Label>:
    font_size: 20
    background_color: 1, 1, 1, 1
    background_normal: ""
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height

<AirportButtons>
    on_press: app.add_airport(self.text)

<CityButtons>
    on_press: app.add_city(self.text)



